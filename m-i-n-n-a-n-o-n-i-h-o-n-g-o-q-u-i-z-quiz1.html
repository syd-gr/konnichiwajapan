<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vocabulary Quiz</title>
  <link rel="stylesheet" href="index.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 20px;
    }
    .quiz-container {
      max-width: 600px;
      margin: auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
    }
    .question {
      font-size: 1.4em;
      margin-bottom: 10px;
    }
    .options {
      margin-top: 15px;
      text-align: left;
      display: flex; /* Make it a flex container */
      flex-direction: column; /* Stack the options vertically */
      gap: 15px;
    }
    .options input {
      margin-right: 10px;
    }
    .next-btn, .result-btn, #restart-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1em;
      cursor: pointer;
    }
    .correct {
      color: green;
      font-weight: bold;
    }
    .incorrect {
      color: red;
    }
  </style>
</head>
<body>
  <div class="wrapper">
        <header class="site-header">
        <div class="header-content">
            <h1 class="page-title">
                <a href="index.html">Konnichiwa Japan</a>
            </h1>
        <div class="header-buttons">
            <button onclick="location.href='index.html'">Home</button>
            <button onclick="location.href='about.html'">About</button>
            <button onclick="location.href='support.html'">Support Us</button>
        </div>
        </div>
        <p class="header-description">Learn Japanese with passion, explore a new culture, and embrace the beauty of language!</p>
        </header>
    <br>
    <a colspan="5" style="text-align:center; font-size:18px;">JLPT N5 Lesson 1 All Vocabulary Quiz</a>
    <br>
    <br>
    
    <div class="quiz-container">
    <div id="question-container">
      <div class="question" id="question"></div>
      <div class="options" id="options"></div>
      <button class="next-btn" id="action-btn">Show Answer</button>
      <button class="result-btn" id="result-btn" style="display: none;">Show Result</button>
    </div>

    <div id="result-container" style="display: none;">
      <h2>Your Score: <span id="score"></span>/<span id="total"></span></h2>
      <button id="restart-btn">Restart Quiz</button>
    </div>
  </div>

  <script>
    const vocab = [
  { kanji: "私", hiragana: "わたし", romaji: "watashi", meaning: "I, me" },
        { kanji: "私たち", hiragana: "わたしたち", romaji: "watashitachi", meaning: "We" },
        { kanji: "あなた", hiragana: "あなた", romaji: "anata", meaning: "You" },
        { kanji: "あの人", hiragana: "あのひと", romaji: "ano hito", meaning: "That person, he, she" },
        { kanji: "あの方", hiragana: "あのかた", romaji: "ano kata", meaning: "That person (polite)" },
        { kanji: "皆さん", hiragana: "みなさん", romaji: "mina-san", meaning: "Everyone" },
        { kanji: "～さん", hiragana: "～さん", romaji: "~san", meaning: "Mr., Ms. (honorific)" },
        { kanji: "～ちゃん", hiragana: "～ちゃん", romaji: "~chan", meaning: "Suffix for young children" },
        { kanji: "～君", hiragana: "～くん", romaji: "~kun", meaning: "Suffix for boys (casual)" },
        { kanji: "～人", hiragana: "～じん", romaji: "~jin", meaning: "A national of ~ (e.g., 日本人: Japanese person)" },
        { kanji: "先生", hiragana: "せんせい", romaji: "sensei", meaning: "Teacher, instructor" },
        { kanji: "教師", hiragana: "きょうし", romaji: "kyoushi", meaning: "Teacher (used by oneself)" },
        { kanji: "学生", hiragana: "がくせい", romaji: "gakusei", meaning: "Student" },
        { kanji: "会社員", hiragana: "かいしゃいん", romaji: "kaishain", meaning: "Company employee" },
        { kanji: "社員", hiragana: "しゃいん", romaji: "shain", meaning: "Employee of ~ company" },
        { kanji: "銀行員", hiragana: "ぎんこういん", romaji: "ginkouin", meaning: "Bank employee" },
        { kanji: "医者", hiragana: "いしゃ", romaji: "isha", meaning: "Doctor" },
        { kanji: "研究者", hiragana: "けんきゅうしゃ", romaji: "kenkyuusha", meaning: "Researcher" },
        { kanji: "エンジニア", hiragana: "エンジニア", romaji: "enjinia", meaning: "Engineer" },
        { kanji: "大学", hiragana: "だいがく", romaji: "daigaku", meaning: "University, college" },
        { kanji: "病院", hiragana: "びょういん", romaji: "byouin", meaning: "Hospital" },
        { kanji: "電気", hiragana: "でんき", romaji: "denki", meaning: "Electricity, light" },
        { kanji: "誰", hiragana: "だれ", romaji: "dare", meaning: "Who" },
        { kanji: "～歳", hiragana: "～さい", romaji: "~sai", meaning: "~ years old" },
        { kanji: "何歳", hiragana: "なんさい", romaji: "nansai", meaning: "How old" },
        { kanji: "失礼ですが", hiragana: "しつれいですが", romaji: "shitsurei desu ga", meaning: "Excuse me, but ~" },
        { kanji: "お名前は？", hiragana: "おなまえは？", romaji: "o-namae wa?", meaning: "What is your name?" },
        { kanji: "初めまして", hiragana: "はじめまして", romaji: "hajimemashite", meaning: "Nice to meet you" },
        { kanji: "～から来ました", hiragana: "～からきました", romaji: "~kara kimashita", meaning: "I came from ~" },
        { kanji: "どうぞよろしく", hiragana: "どうぞよろしく", romaji: "douzo yoroshiku", meaning: "Pleased to meet you" },
        { kanji: "はい", hiragana: "はい", romaji: "hai", meaning: "Yes" },
        { kanji: "いいえ", hiragana: "いいえ", romaji: "iie", meaning: "No" }
];

// Shuffle function
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

// Generate quiz questions
shuffle(vocab); // Shuffle the entire vocabulary list first
const questions = vocab.slice(0, 10).map((item) => { // Take the first 10 items
  const correct = item.meaning;
  const wrongOptions = vocab
    .filter((v) => v.meaning !== correct)
    .sort(() => 0.5 - Math.random())
    .slice(0, 3)
    .map((v) => v.meaning);
  const options = [correct, ...wrongOptions];
  shuffle(options);

  return {
    question: `${item.romaji}（${item.hiragana}）`,
    correct,
    options
  };
});

let currentQuestionIndex = 0;
let score = 0;
let state = "show";

const questionElement = document.getElementById("question");
const optionsElement = document.getElementById("options");
const actionButton = document.getElementById("action-btn");
const resultButton = document.getElementById("result-btn");
const resultContainer = document.getElementById("result-container");
const scoreElement = document.getElementById("score");
const totalElement = document.getElementById("total");

function loadQuestion() {
  state = "show";
  actionButton.textContent = "Show Answer";

  const currentQuestion = questions[currentQuestionIndex];
  questionElement.textContent = `Q${currentQuestionIndex + 1}: ${currentQuestion.question}`;
  optionsElement.innerHTML = "";

  currentQuestion.options.forEach(option => {
    const div = document.createElement("div");
    div.innerHTML = `
      <label>
        <input type="radio" name="option" value="${option}"> ${option}
      </label>
    `;
    optionsElement.appendChild(div);
  });
}

function highlightAnswer() {
  const currentQuestion = questions[currentQuestionIndex];
  const options = document.querySelectorAll("input[name='option']");

  options.forEach(input => {
    const label = input.parentElement;
    input.disabled = true;
    if (input.value === currentQuestion.correct) {
      label.classList.add("correct");
    }
    if (input.checked && input.value !== currentQuestion.correct) {
      label.classList.add("incorrect");
    }
  });
}

actionButton.addEventListener("click", () => {
  const selectedOption = document.querySelector("input[name='option']:checked");

  if (state === "show") {
    if (!selectedOption) {
      alert("Please select an option!");
      return;
    }

    const answer = selectedOption.value;
    if (answer === questions[currentQuestionIndex].correct) {
      score++;
    }

    highlightAnswer();
    state = "next";
    actionButton.textContent = "Next Question";
  } else {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
      loadQuestion();
    } else {
      document.getElementById("question-container").style.display = "none";
      resultContainer.style.display = "block";
      scoreElement.textContent = score;
      totalElement.textContent = questions.length;
      actionButton.style.display = "none";
    }
  }
});

document.getElementById("restart-btn").addEventListener("click", () => {
  currentQuestionIndex = 0;
  score = 0;
  state = "show";

  // Regenerate questions for a new random set
  shuffle(vocab);
  questions.length = 0; // Clear the previous questions
  vocab.slice(0, 10).forEach(item => {
    const correct = item.meaning;
    const wrongOptions = vocab
      .filter((v) => v.meaning !== correct)
      .sort(() => 0.5 - Math.random())
      .slice(0, 3)
      .map((v) => v.meaning);
    const options = [correct, ...wrongOptions];
    shuffle(options);
    questions.push({
      question: `${item.kanji}（${item.hiragana}）`,
      correct,
      options
    });
  });

  resultContainer.style.display = "none";
  document.getElementById("question-container").style.display = "block";
  actionButton.style.display = "inline-block";
  actionButton.textContent = "Show Answer";
  resultButton.style.display = "none";
  totalElement.textContent = questions.length;

  loadQuestion();
});

// Start quiz
loadQuestion();
  </script>
  
  <footer class="footer">
      <p>&copy; 2025 Konnichiwa Japan. All rights reserved.</p>
    </footer>
    </div>
</body>
</html>
